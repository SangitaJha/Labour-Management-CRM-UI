
<!DOCTYPE html>
<html>
<head>
<title>Labor Attendance System</title>
<link rel="stylesheet" href="css/style.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<script src="js/auth.js"></script>
</head>
<body>
<!-- Left Sidebar -->
<div class="sidebar">
<h2 class="sidebar-brand">Labor Attendance</h2>
<nav class="sidebar-nav">
<a href="#crm" class="sidebar-item">
<i class="fas fa-users"></i>
<span>CRM</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="sites.html" class="sidebar-item">
<i class="fas fa-map-marker-alt"></i>
<span>Project Location</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#projects" class="sidebar-item">
<i class="fas fa-project-diagram"></i>
<span>Projects</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#products" class="sidebar-item">
<i class="fas fa-box"></i>
<span>Products</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#customer" class="sidebar-item">
<i class="fas fa-user-tie"></i>
<span>Customer</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#sales" class="sidebar-item">
<i class="fas fa-shopping-cart"></i>
<span>Sales</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#sales-report" class="sidebar-item">
<i class="fas fa-chart-line"></i>
<span>Sales Report</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#vendor" class="sidebar-item">
<i class="fas fa-truck"></i>
<span>Vendor</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="contractors.html" class="sidebar-item">
<i class="fas fa-hard-hat"></i>
<span>Contractor</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#purchase-requisition" class="sidebar-item">
<i class="fas fa-clipboard-list"></i>
<span>Purchase Requisition</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#requisition-confirm" class="sidebar-item">
<i class="fas fa-check-circle"></i>
<span>Requisition Confirm</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#purchase-order" class="sidebar-item">
<i class="fas fa-file-invoice"></i>
<span>Purchase Order</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#purchase-reports" class="sidebar-item">
<i class="fas fa-chart-bar"></i>
<span>Purchase Reports</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#initial-balance" class="sidebar-item">
<i class="fas fa-balance-scale"></i>
<span>Initial Income / Expense Head Balance</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#income-expense-type" class="sidebar-item">
<i class="fas fa-tags"></i>
<span>Income / Expense Type</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#income-expense-head" class="sidebar-item">
<i class="fas fa-list-ul"></i>
<span>Income / Expense Head</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#bank-cash" class="sidebar-item">
<i class="fas fa-university"></i>
<span>Bank & Cash</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#initial-bank-cash" class="sidebar-item">
<i class="fas fa-money-bill-wave"></i>
<span>Initial Bank & Cash</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
<a href="#accounting" class="sidebar-item">
<i class="fas fa-calculator"></i>
<span>Accounting</span>
<i class="fas fa-chevron-right arrow"></i>
</a>
</nav>
</div>

<!-- Main Content -->
<div class="content">
<!-- Top Header Bar -->
<div class="header">
<div class="header-left">
<h1>Labour Management CRM</h1>
</div>
<div class="header-right">
<div class="breadcrumb">
<span>Home</span> / <span>Dashboard</span>
</div>
<div class="user-profile-menu">
<div class="user-info">
<span id="userNameDisplay">Guest</span>
<span id="userRoleDisplay" class="user-role-badge"></span>
</div>
<button class="user-menu-btn" onclick="toggleUserMenu()">
<i class="fas fa-user-circle"></i>
<i class="fas fa-chevron-down"></i>
</button>
<div id="userDropdown" class="user-dropdown">
<a href="#" onclick="goToProfile()"><i class="fas fa-user"></i> Profile</a>
<a href="#" onclick="goToSettings()"><i class="fas fa-cog"></i> Settings</a>
<hr>
<a href="#" onclick="logout()" style="color: #d32f2f;"><i class="fas fa-sign-out-alt"></i> Logout</a>
</div>
</div>
</div>
</div>

<!-- Dashboard Cards Grid -->
<div class="dashboard-cards">
<div class="dash-card yellow" data-link="workers.html" tabindex="0">
<div class="card-icon">
<i class="fas fa-user-check"></i>
</div>
<div class="card-content">
<h3>Active Members</h3>
<p class="card-value">7</p>
</div>
</div>

<div class="dash-card red" data-link="workers.html" tabindex="0">
<div class="card-icon">
<i class="fas fa-user-times"></i>
</div>
<div class="card-content">
<h3>Inactive Members</h3>
<p class="card-value">0</p>
</div>
</div>

<div class="dash-card blue" data-link="reports.html" tabindex="0">
<div class="card-icon">
<i class="fas fa-dollar-sign"></i>
</div>
<div class="card-content">
<h3>Total Income 1</h3>
<p class="card-value">0</p>
</div>
</div>

<div class="dash-card green" data-link="reports.html" tabindex="0">
<div class="card-icon">
<i class="fas fa-coins"></i>
</div>
<div class="card-content">
<h3>Total Income 2</h3>
<p class="card-value">0</p>
</div>
</div>

<div class="dash-card purple" data-link="reports.html" tabindex="0">
<div class="card-icon">
<i class="fas fa-money-bill"></i>
</div>
<div class="card-content">
<h3>Total Income 3</h3>
<p class="card-value">0</p>
</div>
</div>

<div class="dash-card teal" data-link="reports.html" tabindex="0">
<div class="card-icon">
<i class="fas fa-chart-line"></i>
</div>
<div class="card-content">
<h3>Total Income</h3>
<p class="card-value">0</p>
</div>
</div>

<div class="dash-card orange" data-link="reports.html" tabindex="0">
<div class="card-icon">
<i class="fas fa-hand-holding-usd"></i>
</div>
<div class="card-content">
<h3>Total Withdraw</h3>
<p class="card-value">0</p>
</div>
</div>

<div class="dash-card pink" data-link="reports.html" tabindex="0">
<div class="card-icon">
<i class="fas fa-calendar-alt"></i>
</div>
<div class="card-content">
<h3>Monthly Withdraw</h3>
<p class="card-value">0</p>
</div>
</div>

<div class="dash-card blue" data-link="projects.html" tabindex="0">
<div class="card-icon">
<i class="fas fa-building"></i>
</div>
<div class="card-content">
<h3>Total Project</h3>
<p class="card-value">5</p>
</div>
</div>

<div class="dash-card green" data-link="projects.html" tabindex="0">
<div class="card-icon">
<i class="fas fa-map"></i>
</div>
<div class="card-content">
<h3>Total Plots</h3>
<p class="card-value">137</p>
</div>
</div>

<div class="dash-card yellow" data-link="projects.html" tabindex="0">
<div class="card-icon">
<i class="fas fa-map-marked"></i>
</div>
<div class="card-content">
<h3>Total Vacant Plots</h3>
<p class="card-value">121</p>
</div>
</div>

<div class="dash-card red" data-link="projects.html" tabindex="0">
<div class="card-icon">
<i class="fas fa-check-square"></i>
</div>
<div class="card-content">
<h3>Total Booked Plots</h3>
<p class="card-value">16</p>
</div>
</div>
</div>

<!-- Tables Section -->
<div class="tables-container">
<!-- New Agents Table -->
<div class="table-wrapper">
<div class="table-controls">
<input type="search" class="table-search" placeholder="Search agents...">
</div>
<h2 class="table-title">New Agents</h2>
<table class="data-table">
<thead>
<tr>
<th>Name</th>
<th>Code</th>
<th>Sponsor</th>
</tr>
</thead>
<tbody>
<tr>
<td>John Smith</td>
<td>AG001</td>
<td>Michael Brown</td>
</tr>
<tr>
<td>Sarah Johnson</td>
<td>AG002</td>
<td>David Wilson</td>
</tr>
<tr>
<td>Emily Davis</td>
<td>AG003</td>
<td>John Smith</td>
</tr>
<tr>
<td>Robert Miller</td>
<td>AG004</td>
<td>Sarah Johnson</td>
</tr>
</tbody>
</table>
</div>

<!-- New Customer Table -->
<div class="table-wrapper">
<div class="table-controls">
<input type="search" class="table-search" placeholder="Search customers...">
</div>
<h2 class="table-title">New Customer</h2>
<table class="data-table">
<thead>
<tr>
<th>Code</th>
<th>Name</th>
<th>Mobile Number</th>
</tr>
</thead>
<tbody>
<tr>
<td>CU001</td>
<td>James Anderson</td>
<td>+91 98765 43210</td>
</tr>
<tr>
<td>CU002</td>
<td>Patricia Taylor</td>
<td>+91 98765 43211</td>
</tr>
<tr>
<td>CU003</td>
<td>Michael Thomas</td>
<td>+91 98765 43212</td>
</tr>
<tr>
<td>CU004</td>
<td>Linda Martinez</td>
<td>+91 98765 43213</td>
</tr>
</tbody>
</table>
</div>
</div>

</div>

<script>
// Make sidebar items clickable with active state
document.addEventListener('DOMContentLoaded', function() {
  const sidebarItems = document.querySelectorAll('.sidebar-item');
  
  sidebarItems.forEach(item => {
    item.addEventListener('click', function(e) {
      e.preventDefault();
      
      // Remove active class from all items
      sidebarItems.forEach(i => i.classList.remove('active'));
      
      // Add active class to clicked item
      this.classList.add('active');
      
      // Get the menu name
      const menuName = this.querySelector('span').textContent;
      
      // Update page title
      document.querySelector('.header-left h1').textContent = menuName;
      
      // Update breadcrumb
      document.querySelector('.breadcrumb').innerHTML = `<span>Home</span> / <span>${menuName}</span>`;
      
      // Show alert (you can replace this with actual page navigation)
      console.log('Navigating to: ' + menuName);
    });
  });
  
  // Set Dashboard as active by default
  const dashboardLink = document.querySelector('.sidebar-item[href="#crm"]');
  if (dashboardLink) {
    dashboardLink.classList.add('active');
  }

  // Make dashboard cards navigable
  const cards = document.querySelectorAll('.dash-card[data-link]');
  cards.forEach(card => {
    const link = card.getAttribute('data-link');
    const navigate = () => { window.location.href = link; };
    card.addEventListener('click', navigate);
    card.addEventListener('keydown', function(e) {
      if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        navigate();
      }
    });
  });

  // Table search filtering
  document.querySelectorAll('.table-wrapper').forEach(wrapper => {
    const search = wrapper.querySelector('.table-search');
    const table = wrapper.querySelector('table');
    if (!search || !table) return;
    const rows = Array.from(table.querySelectorAll('tbody tr'));
    search.addEventListener('input', function() {
      const q = this.value.trim().toLowerCase();
      rows.forEach(row => {
        const text = row.textContent.toLowerCase();
        row.style.display = text.includes(q) ? '' : 'none';
      });
    });
  });

  // Simple table sort by clicking headers
  document.querySelectorAll('.data-table').forEach(table => {
    const tbody = table.querySelector('tbody');
    const headers = table.querySelectorAll('thead th');
    const getCellText = (row, idx) => (row.children[idx]?.textContent || '').toLowerCase();
    headers.forEach((th, idx) => {
      let asc = true;
      th.style.cursor = 'pointer';
      th.addEventListener('click', () => {
        const rows = Array.from(tbody.querySelectorAll('tr'));
        rows.sort((a, b) => {
          const ta = getCellText(a, idx);
          const tb = getCellText(b, idx);
          if (ta < tb) return asc ? -1 : 1;
          if (ta > tb) return asc ? 1 : -1;
          return 0;
        });
        asc = !asc;
        rows.forEach(r => tbody.appendChild(r));
      });
    });
  });
});
</script>
</body>
</html>
